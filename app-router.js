!function(t,e){function i(t,i,a){var r=e.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!0,i),a.dispatchEvent(r)}function a(t,a,n){var o={path:n.path,route:a,oldRoute:t.activeRoute};i("activate-route-start",o,t)&&i("activate-route-start",o,a)&&(t.activeRoute.removeAttribute("active"),a.setAttribute("active","active"),t.activeRoute=a,a.hasAttribute("import")?r(t,a.getAttribute("import"),a,n,o):a.hasAttribute("element")?s(t,a.getAttribute("element"),a,n,o):a.firstElementChild&&"TEMPLATE"===a.firstElementChild.tagName&&h(t,e.importNode(a.firstElementChild.content,!0),o))}function r(t,i,a,r,s){function h(){n(t,u,i,a,r,s)}var u;o.hasOwnProperty(i)?(u=e.querySelector('link[href="'+i+'"]'),u.import?h():u.addEventListener("load",h)):(o[i]=!0,u=e.createElement("link"),u.setAttribute("rel","import"),u.setAttribute("href",i),u.addEventListener("load",h),e.head.appendChild(u))}function n(t,i,a,r,n,o){r.hasAttribute("active")&&(r.hasAttribute("template")?h(t,e.importNode(i.import.querySelector("template").content,!0),o):s(t,r.getAttribute("element")||a.split("/").slice(-1)[0].replace(".html",""),r,n,o))}function s(t,i,a,r,n){var s=e.createElement(i),o=t.routeArguments(a.getAttribute("path"),r.path,r.search,a.hasAttribute("regex"));for(var u in o)o.hasOwnProperty(u)&&(s[u]=o[u]);h(t,s,n)}function h(t,e,a){for(;t.activeRouteContent.firstChild;)t.activeRouteContent.removeChild(t.activeRouteContent.firstChild);t.activeRouteContent.appendChild(e),i("activate-route-end",a,t),i("activate-route-end",a,a.route)}var o={},u="ActiveXObject"in t;e.registerElement("app-route",{prototype:Object.create(HTMLElement.prototype)}),e.registerElement("active-route",{prototype:Object.create(HTMLElement.prototype)});var c=Object.create(HTMLElement.prototype);c.attachedCallback=function(){"manual"!==this.getAttribute("init")&&this.init()},c.init=function(){this.isInitialized||(this.isInitialized=!0,this.hasAttribute("trailingSlash")||this.setAttribute("trailingSlash","strict"),this.hasAttribute("pathType")||this.setAttribute("pathType","auto"),this.stateChangeHandler=this.go.bind(this),t.addEventListener("popstate",this.stateChangeHandler,!1),u&&t.addEventListener("hashchange",this.stateChangeHandler,!1),this.activeRouteContent=e.createElement("active-route"),this.appendChild(this.activeRouteContent),this.hasAttribute("shadow")&&(this.activeRouteContent=this.activeRouteContent.createShadowRoot()),this.activeRoute=e.createElement("app-route"),this.go())},c.detachedCallback=function(){t.removeEventListener("popstate",this.stateChangeHandler,!1),u&&t.removeEventListener("hashchange",this.stateChangeHandler,!1)},c.go=function(){var e=this.parseUrl(t.location.href,this.getAttribute("pathType")),r={path:e.path};if(i("state-change",r,this)){for(var n=this.firstElementChild;n;){if("APP-ROUTE"===n.tagName&&this.testRoute(n.getAttribute("path"),e.path,this.getAttribute("trailingSlash"),n.hasAttribute("regex")))return a(this,n,e),void 0;n=n.nextSibling}i("not-found",r,this)}},c.parseUrl=function(t,e){var i=new URL(t),a={path:i.pathname,hash:i.hash,search:i.search,isHashPath:"hash"===e,hashPathPrefix:""};if("regular"!==e&&("#/"===a.hash.substring(0,2)?(a.isHashPath=!0,a.path=a.hash.substring(1)):"#!/"===a.hash.substring(0,3)?(a.isHashPath=!0,a.hashPathPrefix="!",a.path=a.hash.substring(2)):a.isHashPath&&(a.path=0===a.hash.length?"/":a.hash.substring(1))),a.isHashPath){var r=a.path.indexOf("?");-1===r?a.search="":(a.search=a.path.substring(r),a.path=a.path.substring(0,r))}return a},c.testRoute=function(t,e,i,a){if("ignore"===i&&("/"===e.slice(-1)&&(e=e.slice(0,-1)),"/"!==t.slice(-1)||a||(t=t.slice(0,-1))),a){if("/"!==t.charAt(0))return!1;t=t.slice(1);var r="";if("/"===t.slice(-1))t=t.slice(0,-1);else{if("/i"!==t.slice(-2))return!1;t=t.slice(0,-2),r="i"}return new RegExp(t,r).test(e)}if(t===e||"*"===t)return!0;if(-1===t.indexOf("*")&&-1===t.indexOf(":"))return!1;var n=e.split("/"),s=t.split("/");if(n.length!==s.length)return!1;for(var h=0;h<s.length;h++){var o=s[h];if(o!==n[h]&&"*"!==o&&":"!==o.charAt(0))return!1}return!0},c.routeArguments=function(t,e,i,a){var r={},n=e.split("/");if(!a)for(var s=t.split("/"),h=0;h<s.length;h++){var o=s[h];":"===o.charAt(0)&&(r[o.substring(1)]=n[h])}var u=i.substring(1).split("&");1===u.length&&""===u[0]&&(u=[]);for(var c=0;c<u.length;c++){var l=u[c],p=l.split("=");r[p[0]]=p.splice(1,p.length-1).join("=")}for(var v in r)r[v]=this.typecast(r[v]);return r},c.typecast=function(t){return"true"===t?!0:"false"===t?!1:isNaN(t)||""===t||"0"===t.charAt(0)?decodeURIComponent(t):+t},e.registerElement("app-router",{prototype:c})}(window,document);