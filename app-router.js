!function(t,e){function r(t,r,a){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,!1,!0,r),a.dispatchEvent(i)}function a(e){var a=g.parseUrl(t.location.href,e.getAttribute("mode")),n={path:a.path};if(r("state-change",n,e)){for(var s=e.firstElementChild;s;){if("APP-ROUTE"===s.tagName&&g.testRoute(s.getAttribute("path"),a.path,e.getAttribute("trailingSlash"),s.hasAttribute("regex")))return i(e,s,a),void 0;s=s.nextSibling}r("not-found",n,e)}}function i(t,e,a){if(e.hasAttribute("redirect"))return t.go(e.getAttribute("redirect"),{replace:!0}),void 0;var i={path:a.path,route:e,oldRoute:t.activeRoute};r("activate-route-start",i,t)&&r("activate-route-start",i,e)&&(t.previousRoute&&t.previousRoute.transitionAnimationInProgress&&c(t.previousRoute),t.activeRoute&&t.activeRoute.removeAttribute("active"),t.previousRoute=t.activeRoute,t.activeRoute=e,t.activeRoute.setAttribute("active","active"),e.hasAttribute("import")?n(t,e.getAttribute("import"),e,a,i):e.hasAttribute("element")?o(t,e.getAttribute("element"),e,a,i):e.firstElementChild&&"TEMPLATE"===e.firstElementChild.tagName&&u(t,e.firstElementChild,e,a,i))}function n(t,r,a,i,n){function o(){s(t,u,r,a,i,n)}var u;d.hasOwnProperty(r)?(u=e.querySelector('link[href="'+r+'"]'),u.import?o():u.addEventListener("load",o)):(d[r]=!0,u=e.createElement("link"),u.setAttribute("rel","import"),u.setAttribute("href",r),u.addEventListener("load",o),e.head.appendChild(u))}function s(t,e,r,a,i,n){a.hasAttribute("active")&&(a.hasAttribute("template")?u(t,e.import.querySelector("template"),a,i,n):o(t,a.getAttribute("element")||r.split("/").slice(-1)[0].replace(".html",""),a,i,n))}function o(t,r,a,i,n){var s=e.createElement(r),o=g.routeArguments(a.getAttribute("path"),i.path,i.search,a.hasAttribute("regex")),u=g.merge(o,p(t,a));for(var c in u)u.hasOwnProperty(c)&&(s[c]=u[c]);h(t,s,n)}function u(t,r,a,i,n){var s;if("createInstance"in r){var o=g.routeArguments(a.getAttribute("path"),i.path,i.search,a.hasAttribute("regex")),u=g.merge(o,p(t,a));s=r.createInstance(u)}else s=e.importNode(r.content,!0);h(t,s,n)}function h(t,e,a){t.hasAttribute("core-animated-pages")||l(t.previousRoute),t.activeRoute.appendChild(e),t.hasAttribute("core-animated-pages")&&(t.coreAnimatedPages.selected=t.activeRoute.getAttribute("path"),t.previousRoute&&(t.previousRoute.transitionAnimationInProgress=!0)),r("activate-route-end",a,t),r("activate-route-end",a,a.route)}function c(t){t&&(t.transitionAnimationInProgress=!1,l(t))}function l(t){if(t)for(var e=t.firstChild;e;){var r=e;e=e.nextSibling,"TEMPLATE"!==r.tagName&&t.removeChild(r)}}function p(t,e){var r={};if(e.hasAttribute("parentScopeAttributes")&&"templateInstance"in t){attrs=e.getAttribute("parentScopeAttributes").split(" ");for(var a=0;a<attrs.length;a++)r[attrs[a]]=t.templateInstance.model[attrs[a]]}return r}var g={},d={},v="ActiveXObject"in t,m=Object.create(HTMLElement.prototype);m.util=g,e.registerElement("app-route",{prototype:Object.create(HTMLElement.prototype)}),m.attachedCallback=function(){"manual"!==this.getAttribute("init")&&this.init()},m.init=function(){var r=this;r.isInitialized||(r.isInitialized=!0,r.hasAttribute("trailingSlash")||r.setAttribute("trailingSlash","strict"),r.hasAttribute("mode")||r.setAttribute("mode","auto"),r.hasAttribute("core-animated-pages")&&(r.createShadowRoot(),r.coreAnimatedPages=e.createElement("core-animated-pages"),r.coreAnimatedPages.appendChild(e.createElement("content")),r.coreAnimatedPages.style.position="static",r.coreAnimatedPages.setAttribute("valueattr","path"),r.coreAnimatedPages.setAttribute("transitions",r.getAttribute("transitions")),r.shadowRoot.appendChild(r.coreAnimatedPages),r.coreAnimatedPages.addEventListener("core-animated-pages-transition-end",function(){c(r.previousRoute)})),r.stateChangeHandler=a.bind(null,r),t.addEventListener("popstate",r.stateChangeHandler,!1),v&&t.addEventListener("hashchange",r.stateChangeHandler,!1),a(r))},m.detachedCallback=function(){t.removeEventListener("popstate",this.stateChangeHandler,!1),v&&t.removeEventListener("hashchange",this.stateChangeHandler,!1)},m.go=function(e,r){"pushstate"!==this.getAttribute("mode")&&(e="#"+e),r&&r.replace!==!0?t.history.pushState(null,null,e):t.history.replaceState(null,null,e),a(this)},g.parseUrl=function(t,r){var a={isHashPath:"hash"===r};if("function"==typeof URL){var i=new URL(t);a.path=i.pathname,a.hash=i.hash,a.search=i.search}else{var n=e.createElement("a");n.href=t,a.path=n.pathname,"/"!==a.path.charAt(0)&&(a.path="/"+a.path),a.hash=n.hash,a.search=n.search}if("pushstate"!==r&&("#/"===a.hash.substring(0,2)?(a.isHashPath=!0,a.path=a.hash.substring(1)):"#!/"===a.hash.substring(0,3)?(a.isHashPath=!0,a.path=a.hash.substring(2)):a.isHashPath&&(a.path=0===a.hash.length?"/":a.hash.substring(1)),a.isHashPath)){var s=a.path.indexOf("?");-1!==s&&(a.search=a.path.substring(s),a.path=a.path.substring(0,s))}return a},g.testRoute=function(t,e,r,a){if("ignore"===r&&("/"===e.slice(-1)&&(e=e.slice(0,-1)),"/"!==t.slice(-1)||a||(t=t.slice(0,-1))),a)return g.testRegExString(t,e);if(t===e||"*"===t)return!0;if(-1===t.indexOf("*")&&-1===t.indexOf(":"))return!1;var i=e.split("/"),n=t.split("/");if(i.length!==n.length)return!1;for(var s=0;s<n.length;s++){var o=n[s];if(o!==i[s]&&"*"!==o&&":"!==o.charAt(0))return!1}return!0},g.routeArguments=function(t,e,r,a){var i={};if(!a)for(var n=e.split("/"),s=t.split("/"),o=0;o<s.length;o++){var u=s[o];":"===u.charAt(0)&&(i[u.substring(1)]=n[o])}var h=r.substring(1).split("&");1===h.length&&""===h[0]&&(h=[]);for(var c=0;c<h.length;c++){var l=h[c],p=l.split("=");i[p[0]]=p.splice(1,p.length-1).join("=")}for(var d in i)i[d]=g.typecast(i[d]);return i},g.merge=function(t,e){var r={};for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r},g.typecast=function(t){return"true"===t?!0:"false"===t?!1:isNaN(t)||""===t||"0"===t.charAt(0)?decodeURIComponent(t):+t},g.testRegExString=function(t,e){if("/"!==t.charAt(0))return!1;t=t.slice(1);var r="";if("/"===t.slice(-1))t=t.slice(0,-1);else{if("/i"!==t.slice(-2))return!1;t=t.slice(0,-2),r="i"}return new RegExp(t,r).test(e)},e.registerElement("app-router",{prototype:m})}(window,document);